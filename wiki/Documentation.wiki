<p align="center">
*<font size="20">PureJ VM Inspection</font><br/>
[https://code.google.com/p/purej-vminspect/ Home] | [Documentation] | [ReleaseNotes] | [Downloads]*
</p>

<wiki:toc />

=Purpose=
JMX is a great and simple approach to manage enterprise applications in production environment. Unfortunately, the JDK lacks a lightweight tool to access those information securely without the need for a complex infrastructure.

*PureJ VM Inspect* can be embedded in any Java / Java-EE application and provides remote JMX management features over a HTTP / web-based user-interface. 

=Configuration=

==Requisites==

  * Java 1.6+

PureJ VM Inspection is available in Maven Central, so Maven users just need to add the following dependency:

{{{
    <dependency>
        <groupId>com.purej</groupId>
        <artifactId>purej-vminspect</artifactId>
        <version>1.0</version>
    </dependency>
}}}

Non Maven users need to fetch the following dependencies manually:



If you don't use maven to fetch JMiniX's dependencies, you will need the following jars from the Apache Fundation, Noelios Restlet framework, JSon lib, JGroups and Jasypt encryption lib:

{{{
 +- org.restlet:org.restlet:jar:1.1.5:compile
 +- org.restlet:org.restlet.ext.velocity:jar:1.1.5:compile
 |  \- org.apache.velocity:velocity:jar:1.5:compile
 |     \- oro:oro:jar:2.0.8:compile
 +- com.noelios.restlet:com.noelios.restlet:jar:1.1.5:compile
 +- com.noelios.restlet:com.noelios.restlet.ext.servlet:jar:1.1.5:compile
 +- commons-logging:commons-logging:jar:1.1.1:compile
 +- net.sf.json-lib:json-lib:jar:jdk15:2.2.3:compile
 |  +- commons-lang:commons-lang:jar:2.4:compile
 |  +- commons-beanutils:commons-beanutils:jar:1.7.0:compile
 |  +- commons-collections:commons-collections:jar:3.2:compile
 |  \- net.sf.ezmorph:ezmorph:jar:1.0.6:compile
 +- org.jgroups:jgroups:jar:2.12.1.3.Final:compile
 \- org.jasypt:jasypt:jar:1.8:compile
}}}

==Maven Configuration==

JMiniX is published in the official [http://repo1.maven.org/maven2/org/jminix/jminix/ maven repository].

Add the following dependency to your `pom.xml`:

{{{
<dependency>
        <groupId>org.jminix</groupId>
        <artifactId>jminix</artifactId>
        <version>1.0.0</version>
</dependency>
}}}

*NOTE:* You have to refer to the restlet repository since JMiniX relies on this excellent framework:

Declare the repository for your project or for a parent project by updating the `pom.xml` file and adding the following code to the `<repositories>` section:

{{{
<repository>  
    <id>maven-restlet</id>  
    <name>Public online Restlet repository</name>  
    <url>http://maven.restlet.org</url>  
</repository>  
}}}

Or you can put that in the `settings.xml` file. See http://www.restlet.org/downloads/maven.

==Embed the Mini-Console in your Web Application==

In `web.xml` :

{{{
<servlet>
    <servlet-name>JmxMiniConsoleServlet</servlet-name>
    <servlet-class>
        org.jminix.console.servlet.MiniConsoleServlet
    </servlet-class>
</servlet> 


<servlet-mapping>
    <servlet-name>JmxMiniConsoleServlet</servlet-name>
    <url-pattern>/jmx/*</url-pattern>
</servlet-mapping>      
}}}

By default, it finds the `MbeanServerConnection` by itself using the standard JMX discovery. You can add the serverConnectionProvider configuration parameter to provide your own implementation of the `ServerConnectionProvider` interface:

{{{
<servlet>
    <servlet-name>JmxMiniConsoleServlet</servlet-name>
    <servlet-class>
        org.jminix.console.servlet.MiniConsoleServlet
    </servlet-class>
    <init-param>
        <param-name>serverConnectionProvider</param-name>
        <param-value>org.myorg.myproject.MyOwnServerConnectionProvider</param-value>
    </init-param>
</servlet> 
}}}